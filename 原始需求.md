# **产品定义书：Project "The Lost Codex" (失落法典)**

**版本号：** v6.1 (The Eternal Memory Edition / 永恒记忆版)
**产品形态：** 手机应用（移动端优先）
**设计风格：** 苹果风格（Apple Design Language）—— 浅色主题、简洁、留白、圆角、毛玻璃、流畅动效
**核心理念：** **Algorithm is Destiny. (算法即命运)**
**Slogan：** "在你自己定义的世界里，战胜遗忘。"

---

## **一、 核心引擎 A：Mnemosyne (记忆女神 - 调度中枢)**

**—— 【召回模块】 产品的“大脑”。它不可见，但决定了剧本里会出现哪些“演员”。**

### **1. 单词全生命周期管理 (The Lifecycle)**

系统不再使用简单的“已学/未学”标签，而是基于 **SRS (Spaced Repetition System)** 算法，赋予每个单词 **5 级生命状态**：

* **Lv.0 迷雾 (Nebula):** 未解锁/新词 (New)。
* **Lv.1 烙印 (Imprinted):** 刚接触，存于工作记忆 (Day 0)。
* **Lv.2 闪烁 (Fading):** **高危！** 记忆开始衰退 (Day 1, 需首次复习)。
* **Lv.3 加固 (Reinforced):** 记忆强化期 (Day 3-7, 需二次复习)。
* **Lv.4 结晶 (Crystallized):** 长期记忆形成 (Day 15+, 需巩固复习)。
* **Lv.5 殿堂 (Eternal):** 永久掌握 (移出日常循环，进入荣誉殿堂，星图外环显示为金色超新星)。

### **2. 遗忘曲线调度器 (The Scheduler)**

* **逻辑：** 系统实时计算每个单词的 **“遗忘临界点”**。
* **指令下发：** 用户点击“开始”时，调度器会抓取 **今日临界点单词 (Review Queue)** + **少量新词 (New Queue)**。
* **Prompt 生成：** 调度器向 AIGC 引擎发送指令：“生成一段剧情，必须包含 *Current (Lv.2), Obstacle (Lv.2), Strategy (Lv.0)*，并根据单词等级安排剧情强度。”

---

## **二、 核心引擎 B：AIGC Immersive Engine (沉浸剧本 - 内容生成)**

**—— 【保留模块】 所有的学习，都发生在你最爱的故事里。**

### **1. World Building (世界观自定义)**

* **用户交互：** 用户选择剧本风格（"MOBA 竞技场"、"修仙飞升"、"赛博朋克侦探"、"校园甜宠"）或**自定义世界观**（输入任意 IP/题材，如"哈利波特"、"塞尔达"、"名侦探柯南"等，LLM 自动适配），并自定义主角。
* **剧情语言：** 剧本正文为**英文**，通过沉浸式英文阅读自然接触目标词汇。UI 界面和系统提示保持中文。
* **技术逻辑：** LLM 基于用户设定 + 调度器下发的单词，实时生成英文无限流剧本。

### **2. Narrative Branching & Dynamic Injection (随动植入)**

* **功能逻辑：**
* **情境生成：** 故事推进到关键节点。
* **动态选项：**
* *选项 A (智慧型)：* "Find a bridge to cross the river."
* *选项 B (力量型)：* "Chop down a tree and raft across by force."


* **随动植入：**
* **选 A：** 生成文本——"You devised a clever **Strategy** to find the shallow crossing upstream, avoiding the deadly **Current** below."
* **选 B：** 生成文本——"You ignored the **Obstacle** ahead and charged straight into the raging **Current** with brute force."




* **生词交互：** 点击高亮单词，即时查看释义/发音，并自动归入“生词本”。

---

## **三、 核心玩法：Blitz Combat (闪击战斗 - 验证与巩固)**

**—— 【保留模块】 剧情里看懂了不代表记住了，拔刀战斗吧！**

### **1. 战斗机制 (Reflex System)**

* **格挡 (Parry) 【英 -> 中】：** 怪物攻击（携带单词 *Current*），玩家 1 秒内点击盾牌中文“水流”。
* **吟唱 (Chant) 【中 -> 英】：** 玩家反击（提示中文“策略”），玩家在漂浮气泡中点击 *Strategy*。
* **决斗 (Duel) 【极限二选一】：** Boss 终结技，1.0 秒生死判定。

### **2. 数据闭环 (Feedback Loop)**

* **判定逻辑：** 反应速度（Reaction Time）直接影响 Mnemosyne 引擎的调度。
* **秒杀 (<0.8s):** 判定为“肌肉记忆”，该词下次复习间隔 **x3**。
* **犹豫 (0.8s-2.0s):** 判定为“认知记忆”，间隔 **x1.5**。
* **卡顿/错误 (>2.0s):** 判定为“遗忘”，该词退回 **Lv.2**，明天继续复习。



---

## **四、 数据可视化：The Codex (真理之书)**

**—— 【召回模块】 让遗忘曲线“看得见”，赋予用户上帝视角。**

### **1. 单词星图 (Constellation View)**

* **宏观展示：** 摒弃枯燥列表，将词库展示为一片星空。
* **灰暗星：** Lv.0 未学。
* **红巨星 (Red Giant)：** **高危预警！** (单词处于遗忘临界点，今日必须复习)。
* **恒星 (Star)：** Lv.3-4 稳定记忆。
* **超新星 (Supernova)：** Lv.5 殿堂级掌握。


* **心理价值：** 用户一眼就能看到今天有多少“红星”在闪烁，**消除红点**是人类的本能，这极大地驱动了日活（DAU）。

### **2. 单词编年史 (Word Chronicle)**

* **微观溯源：** 点击任意单词（如 *Sword*），查看它的“人生履历”：
* **当前状态：** Lv.3 (下次复习：2天后)。
* **初次相遇 (First Encounter)：** 展示用户第一次在“修仙剧本-第三章”遇到该词时的剧情插图。
* **战斗记录：** “你曾用此词完美格挡了 12 次伤害。”



---

## **五、 视觉系统：Soul Forge (灵魂锻造 - 动力系统)**

**—— 【保留模块】 只要努力（肝），你就能穿神装。**

* **成长逻辑：**
* **货币统一：** 无论背什么词，消除一颗"红星" = 获得 1 个 **【灵魂碎片】**。
* **装备进化：** 消耗碎片将"布衣"升级为"神铠"。
* **风格适配：** 装备外观自动适配用户选择的剧本风格（修仙风/赛博风）。

* **装备数值系统：**
* **核心属性：** 每件装备提供 **攻击力 (ATK)** 和 **防御力 (DEF)** 数值加成。
  * **ATK 效果：** 攻击力越高，战斗中格挡/吟唱的判定时间越宽裕（如 ATK 加成 +0.1s），降低操作难度。
  * **DEF 效果：** 防御力越高，答错/超时的扣血量越低（如 DEF 减免 20% 伤害），容错率更高。
* **敌人成长：** 随着用户学习进度推进（总掌握词汇量 / 累计波次），敌人逐步变强：
  * **攻击增强：** 敌人攻击频率加快，判定时间逐渐缩短。
  * **血量增加：** Boss 需要更多回合才能击败。
  * **新机制解锁：** 高阶关卡出现连续攻击、双词同屏等进阶战斗模式。
* **装备 vs 敌人平衡：** 若用户装备等级远低于当前敌人等级，系统提示"装备不足，建议前往灵魂锻造强化"；若装备碾压敌人，战斗奖励会相应降低以鼓励挑战更高难度。

* **里程碑纪念卡牌 (Milestone Cards)：**
* 不为每个殿堂词生成卡牌（词汇量太大会失去稀缺感），而是**仅在关键里程碑节点**生成精美纪念卡牌。
* **触发节点：** 第 1 / 10 / 50 / 100 / 200 / 500 / 1000 / 2000 / 3000 / 全部 个词进入殿堂时各触发一张。
* **卡牌内容：** 里程碑编号 + 触发该里程碑的那个单词 + AI 生成的精美插画 + 回顾数据（总学习天数/总战斗次数等）。
* **仪式感：** 解锁时全屏动画 + 专属音效，可分享到社交媒体。

---

## **六、 用户体验旅程 (The User Journey - v6.1)**

1. **启动 (Log in)：**
* 用户看到自己的 Avatar 身穿昨晚肝出来的【虚空战甲】。
* 打开 **【真理之书】**，发现星图中有 **25 颗红星** 正在剧烈闪烁（今日遗忘临界点）。


2. **生成 (Generate)：**
* 用户点击"消灭下一波 (5词)"。
* 系统从 25 颗红星中抽取 **5 个高危词** + 少量新词，组成本波副本。
* 系统提示："正在为您生成今日副本：**赛博夜之城·第 42 章**... 已植入高危词汇 *Current, Strategy...*"


3. **沉浸 (Immerse)：**
* 阅读 AIGC 生成的英文侦探剧情。
* **关键抉择：** 面对义体医生，选 A (Negotiate with a clever *Strategy*) 还是 B (Threaten with *Force*)？
* 用户选 A，并在英文语境中理解了 *Strategy* 的用法。


4. **战斗 (Combat)：**
* 谈判破裂！赛博疯子发起攻击。
* **格挡：** 屏幕飞出 *STRATEGY*，玩家 0.6 秒极速点击"策略"，触发完美格挡特效。
* **反馈：** 系统后台将 *Strategy* 从 Lv.2 提升至 Lv.3（下次复习推迟到 3 天后）。


5. **结算 (Reward)：**
* 本波胜利，5 颗红星变为稳定白星。获得 **5 个【灵魂碎片】**。
* 点击"下一波"继续消灭剩余 20 颗红星（共 5 波），或返回主页下次继续。
* 全部 5 波完成后，25 颗红星清零，去铁匠铺给光剑镶嵌了一颗宝石。



---

## **七、 总结 (Conclusion)**

**v6.1** 真正做到了 **“感性与理性的统一”**：

1. **理性（后台）：** 严谨的 **艾宾浩斯遗忘曲线** 精确控制着每一个单词的出现时机，确保记忆效率最高。
2. **感性（前台）：** 用户看到的不是枯燥的复习计划表，而是 **“闪烁的红星”**（视觉压力）、**“精彩的剧本”**（内容吸引）和 **“激爽的战斗”**（即时反馈）。

用户以为自己在玩一款 **“无限流 RPG”**，实际上，他们正在 **“无感”** 地执行着最枯燥的 **“间隔重复记忆训练”**。这才是教育游戏的终极形态。